/* pages/vehicles/vehicles.wxss */
@import '../../assets/styles/theme.wxss';
@import '../../assets/fonts/iconfont.wxss';

/* ==========================================================================
   车源页面样式
   ========================================================================== */

.vehicles-page {
    background-color: var(--theme-bg-white);
    height: calc(100vh - 100rpx);
}

.vehicles-content {
    height: 100%;
    display: flex;
    flex-direction: column;
    overflow: hidden;
}
/* ==========================================================================
   登录提示样式
   ========================================================================== */

.vehicles__loading {
    display: flex;
    justify-content: center;
    align-items: center;
    padding: var(--theme-spacing-page);
    position: absolute;
    left: 0;
    right: 0;
}

.vehicles__loading-text {
    font-size: var(--theme-font-size-md);
    color: var(--theme-text-secondary);
    animation: pulse 1.5s ease-in-out infinite;
}

.vehicles__login-prompt {
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: calc(100vh - 302rpx); /* 减去导航栏和tabBar高度 */
}

.vehicles__login-card {
    background: var(--theme-bg-card);
    border-radius: var(--theme-radius-lg);
    padding: var(--theme-spacing-xxl);
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    max-width: 500rpx;
    width: 100%;
    animation: fadeInUp var(--theme-duration-slow) var(--theme-ease-out);
}

.vehicles__login-icon {
    font-size: 120rpx;
    color: var(--theme-color-primary);
    margin-bottom: var(--theme-spacing-xl);
    animation: pulse 2s ease-in-out infinite;
}

.vehicles__login-text {
    font-size: var(--theme-font-size-lg);
    color: var(--theme-text-secondary);
    margin-bottom: var(--theme-spacing-xxl);
    line-height: 1.5;
}

.vehicles__login-btn {
    width: 100% !important;
    background: var(--theme-color-primary);
    color: var(--theme-text-white);
    border: none;
    border-radius: var(--theme-radius-sm);
    padding: var(--theme-spacing-lg) var(--theme-spacing-xl);
    font-size: var(--theme-font-size-md);
    font-weight: var(--theme-font-weight-medium);
    box-shadow: 0 2rpx 8rpx rgba(218, 165, 32, 0.3);
    transition: all var(--theme-duration-base) var(--theme-ease-out);
}

.vehicles__login-btn::after {
    border: none;
}

.vehicles__login-btn:active {
    background: var(--theme-color-primary-hover);
    transform: translateY(1rpx);
    box-shadow: 0 1rpx 4rpx rgba(218, 165, 32, 0.4);
}

/* ==========================================================================
   搜索模块样式
   ========================================================================== */

.vehicles-search {
    flex-shrink: 0;
    background-color: var(--theme-bg-card);
    padding: var(--theme-spacing-lg);
}

/* ==========================================================================
   筛选工具栏样式
   ========================================================================== */

.vehicles-filter-bar {
    flex-shrink: 0;
    background-color: var(--theme-bg-card);
}

/* 车龄筛选面板样式 */
.vehicles-age-panel {
    padding: var(--theme-spacing-xxl);
    background-color: var(--theme-bg-card);
    max-height: 600rpx;
    overflow-y: auto;
}

.vehicles-age-options {
    display: flex;
    flex-wrap: wrap;
    gap: var(--theme-spacing-md);
    margin-bottom: var(--theme-spacing-xxl);
}

.vehicles-age-option {
    flex: 0 0 110rpx; /* 改为auto自适应宽度 */
    min-width: fit-content; /* 确保最小宽度适应内容 */
    padding: var(--theme-spacing-lg) var(--theme-spacing-xl); /* 左右增加padding */
    border: 2rpx solid var(--theme-border-light);
    border-radius: var(--theme-radius-xxl);
    text-align: center;
    font-size: var(--theme-font-size-sm);
    color: var(--theme-text-primary);
    background-color: var(--theme-bg-card);
    white-space: nowrap; /* 防止文字换行 */
    transition: all var(--theme-duration-base) var(--theme-ease-out);
}

.vehicles-age-option--active {
    border-color: var(--theme-color-primary);
    background-color: var(--theme-color-primary-light);
    color: var(--theme-color-primary);
    font-weight: var(--theme-font-weight-medium);
}

.vehicles-custom-age {
    margin-bottom: var(--theme-spacing-xxl);
}

.vehicles-custom-age__title {
    font-size: var(--theme-font-size-md);
    color: var(--theme-text-primary);
    margin-bottom: var(--theme-spacing-lg);
    font-weight: var(--theme-font-weight-medium);
}

.vehicles-custom-age__inputs {
    display: flex;
    align-items: center;
    gap: var(--theme-spacing-lg);
}

.vehicles-custom-age__separator {
    font-size: var(--theme-font-size-md);
    color: var(--theme-text-secondary);
    font-weight: var(--theme-font-weight-bold);
}

.vehicles-age-panel__actions {
    display: flex;
    gap: var(--theme-spacing-lg);
    justify-content: flex-end;
}

/* 价格筛选面板样式 */
.vehicles-price-panel {
    padding: var(--theme-spacing-xxl);
    background-color: var(--theme-bg-card);
    max-height: 600rpx;
    overflow-y: auto;
}

.vehicles-price-options {
    display: flex;
    flex-wrap: wrap;
    gap: var(--theme-spacing-md);
    margin-bottom: var(--theme-spacing-xxl);
}

.vehicles-price-option {
    flex: 0 0 110rpx; /* 改为auto自适应宽度 */
    min-width: fit-content; /* 确保最小宽度适应内容 */
    padding: var(--theme-spacing-lg) var(--theme-spacing-xl); /* 左右增加padding */
    border: 2rpx solid var(--theme-border-light);
    border-radius: var(--theme-radius-xxl);
    text-align: center;
    font-size: var(--theme-font-size-sm);
    color: var(--theme-text-primary);
    background-color: var(--theme-bg-card);
    white-space: nowrap; /* 防止文字换行 */
    transition: all var(--theme-duration-base) var(--theme-ease-out);
}

.vehicles-price-option--active {
    border-color: var(--theme-color-primary);
    background-color: var(--theme-color-primary-light);
    color: var(--theme-color-primary);
    font-weight: var(--theme-font-weight-medium);
}

.vehicles-custom-price {
    margin-bottom: var(--theme-spacing-xxl);
}

.vehicles-custom-price__title {
    font-size: var(--theme-font-size-md);
    color: var(--theme-text-primary);
    margin-bottom: var(--theme-spacing-lg);
    font-weight: var(--theme-font-weight-medium);
}

.vehicles-custom-price__inputs {
    display: flex;
    align-items: center;
    gap: var(--theme-spacing-lg);
}

.vehicles-custom-price__separator {
    font-size: var(--theme-font-size-md);
    color: var(--theme-text-secondary);
    font-weight: var(--theme-font-weight-bold);
}

.vehicles-price-panel__actions {
    display: flex;
    gap: var(--theme-spacing-lg);
    justify-content: flex-end;
}

/* ==========================================================================
   筛选条件回显样式
   ========================================================================== */

.vehicles-filter-tags {
    background-color: var(--theme-bg-card);
    padding: var(--theme-spacing-lg) var(--theme-spacing-lg) var(--theme-spacing-md);
    display: flex;
    gap: var(--theme-spacing-md);
    flex-wrap: wrap;
    align-items: center;
    border-top: 1rpx solid var(--theme-border-light);
}

/* ==========================================================================
   车辆列表样式
   ========================================================================== */

.vehicles-list {
    flex: 1;
    display: flex;
    flex-direction: column;
    overflow: hidden;
}

.vehicles-loading {
    display: flex;
    justify-content: center;
    align-items: center;
    padding: var(--theme-spacing-xxxl);
    background-color: var(--theme-bg-card);
    margin: var(--theme-spacing-lg);
    border-radius: var(--theme-radius-lg);
}

.vehicles-list__content {
    /* 车辆卡片滚动容器 */
    width: 100%;
    height: 100%;
}

.vehicles-load-more {
    display: flex;
    justify-content: center;
    align-items: center;
    padding: var(--theme-spacing-xxl);
    margin: var(--theme-spacing-lg);
}

.vehicles-load-more__text {
    font-size: var(--theme-font-size-sm);
    color: var(--theme-text-tertiary);
}

.vehicles-no-more {
    display: flex;
    justify-content: center;
    align-items: center;
    padding: var(--theme-spacing-lg);
}

.vehicles-no-more__text {
    font-size: var(--theme-font-size-sm);
    color: var(--theme-text-tertiary);
}

.vehicles-empty {
    padding: var(--theme-spacing-xxxl);
    margin: var(--theme-spacing-lg);
    background-color: var(--theme-bg-card);
    border-radius: var(--theme-radius-lg);
}

.vehicles-empty__button {
    margin-top: var(--theme-spacing-xxl);
}

/* ==========================================================================
   Vant 组件样式覆盖
   ========================================================================== */

/* 覆盖 van-dropdown-menu 样式 */
.van-dropdown-menu {
    box-shadow: var(--theme-shadow-xs);
}
.vehicle-filter-menu .van-dropdown-menu {
    box-shadow: none;
}
.vehicle-filter-menu .van-dropdown-menu__title--active {
    color: var(--theme-color-primary);
}
.vehicle-filter-menu .van-dropdown-menu__item:first-child {
    flex: 1 0 100rpx;
}
.vehicle-filter-menu .van-dropdown-item__option--active .van-dropdown-item__title{
    color: var(--theme-color-primary-light);
}

.van-dropdown-menu__bar {
    background-color: var(--theme-bg-card);
    border-bottom: 1rpx solid var(--theme-border-light);
}

.van-dropdown-menu__item {
    font-size: var(--theme-font-size-sm);
    color: var(--theme-text-primary);
}

.van-dropdown-menu__item--active {
    color: var(--theme-color-primary);
}

/* 覆盖 van-search 样式 */
.van-search {
    padding: 0;
}

.van-search__content {
    background-color: var(--theme-bg-secondary);
    border-radius: var(--theme-radius-xxl);
}

.van-search__field {
    font-size: var(--theme-font-size-sm);
    color: var(--theme-text-primary);
}

.van-search__action {
    font-size: var(--theme-font-size-sm);
    color: var(--theme-color-primary);
    font-weight: var(--theme-font-weight-medium);
}

/* 覆盖 van-tag 样式 */
.van-tag {
    font-size: var(--theme-font-size-xs);
    border-radius: var(--theme-radius-md);
}

/* 覆盖 van-button 样式 */
.van-button--primary {
    background-color: var(--theme-color-primary);
    border-color: var(--theme-color-primary);
    border-radius: var(--theme-radius-sm);
}

.van-button--primary:active {
    background-color: var(--theme-color-primary-active);
    border-color: var(--theme-color-primary-active);
}

.van-button--small {
    font-size: var(--theme-font-size-xs);
    padding: var(--theme-spacing-sm) var(--theme-spacing-lg);
}

/* 覆盖 van-field 样式 */
.van-field__input {
    font-size: var(--theme-font-size-sm);
    color: var(--theme-text-primary);
}

.van-field__placeholder {
    color: var(--theme-text-placeholder);
}

/* 覆盖 van-loading 样式 */
.van-loading__text {
    font-size: var(--theme-font-size-sm);
    color: var(--theme-text-secondary);
    margin-top: var(--theme-spacing-sm);
}

/* 覆盖 van-empty 样式 */
.van-empty__description {
    font-size: var(--theme-font-size-sm);
    color: var(--theme-text-secondary);
}

/* ==========================================================================
   动画效果
   ========================================================================== */

.vehicles-age-option,
.vehicles-price-option {
    transform: scale(1);
}

.vehicles-age-option:active,
.vehicles-price-option:active {
    transform: scale(0.98);
    transition: transform var(--theme-duration-fast) var(--theme-ease-out);
}

/* 筛选条件动画 */
.vehicles-filter-tags .van-tag {
    animation: fadeInUp var(--theme-duration-base) var(--theme-ease-out);
}

@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(10rpx);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* 脉冲动画 */
@keyframes pulse {
    0%,
    100% {
        opacity: 1;
    }
    50% {
        opacity: 0.5;
    }
}

/* 车辆卡片动画 */
.vehicles-list__content > car-card {
    animation: fadeInUp var(--theme-duration-base) var(--theme-ease-out);
    animation-fill-mode: both;
}

.vehicles-list__content > car-card:nth-child(1) {
    animation-delay: 0.05s;
}
.vehicles-list__content > car-card:nth-child(2) {
    animation-delay: 0.1s;
}
.vehicles-list__content > car-card:nth-child(3) {
    animation-delay: 0.15s;
}
.vehicles-list__content > car-card:nth-child(4) {
    animation-delay: 0.2s;
}
.vehicles-list__content > car-card:nth-child(5) {
    animation-delay: 0.25s;
}
