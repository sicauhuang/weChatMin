/* pages/car-form/car-form.wxss */
@import '../../assets/styles/theme.wxss';

/* 页面容器 */
.car-form-page {
    background-color: var(--theme-bg-white);
    min-height: 100vh;
    position: relative;
}
.van-cell--required:before {
    left: var(--padding-xs, 8rpx) !important;
}

/* 加载状态覆盖层 */
.loading-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: rgba(255, 255, 255, 0.8);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: var(--theme-z-index-modal);
}

.loading-text {
    font-size: var(--theme-font-size-lg);
    color: var(--theme-text-secondary);
}

/* 表单容器 */
.form-container {
    height: calc(100vh - 140rpx);
    padding: var(--theme-spacing-lg) 0;
    box-sizing: border-box;
    background-color: var(--theme-bg-white);
}

/* Vant Cell Group 样式优化 - 融合式设计 */
.van-cell-group {
    margin: 0 var(--theme-spacing-lg) var(--theme-spacing-xl) var(--theme-spacing-lg);
    background-color: var(--theme-bg-white) !important;
    border-radius: var(--theme-radius-lg) !important;
    overflow: hidden;
    box-shadow: var(--theme-shadow-xs);
}

.van-cell-group__title {
    padding: var(--theme-spacing-xl) var(--theme-spacing-lg) var(--theme-spacing-sm)
        var(--theme-spacing-lg) !important;
    margin: 0 !important;
    background-color: var(--theme-bg-white) !important;
    color: var(--theme-text-primary) !important;
    font-size: var(--theme-font-size-lg) !important;
    font-weight: var(--theme-font-weight-bold) !important;
    border-bottom: 1rpx solid var(--theme-border-light) !important;
    position: relative;
}

/* 标题装饰条 */
.van-cell-group__title::before {
    content: '';
    position: absolute;
    left: var(--theme-spacing-lg);
    bottom: 0;
    width: 60rpx;
    height: 4rpx;
    background-color: var(--theme-color-primary-light);
    border-radius: 2rpx;
}

/* Vant Field 样式优化 - 与标题融合 */
.van-field {
    padding: var(--theme-spacing-lg) var(--theme-spacing-lg) !important;
    background-color: var(--theme-bg-white) !important;
    border-bottom: 1rpx solid var(--theme-border-ultra-light) !important;
    transition: background-color var(--theme-duration-base) var(--theme-ease-out);
}

.van-field:last-child {
    border-bottom: none !important;
}

.van-field:active {
    background-color: var(--theme-bg-secondary) !important;
}

.van-field__label {
    color: var(--theme-text-primary) !important;
    font-weight: var(--theme-font-weight-medium) !important;
    width: 200rpx !important;
    margin-left: 10rpx;
}

.van-field__control {
    color: var(--theme-text-primary) !important;
}

.van-field__control::placeholder {
    color: var(--theme-text-placeholder) !important;
}

/* Vant Cell 样式优化 - 与标题融合 */
.van-cell {
    padding: var(--theme-spacing-lg) !important;
    background-color: var(--theme-bg-white) !important;
    border-bottom: 1rpx solid var(--theme-border-ultra-light) !important;
    transition: background-color var(--theme-duration-base) var(--theme-ease-out);
}

.van-cell:last-child {
    border-bottom: none !important;
}

.van-cell:active {
    background-color: var(--theme-bg-secondary) !important;
}

.van-cell__title {
    color: var(--theme-text-primary) !important;
    font-weight: var(--theme-font-weight-medium) !important;
    margin-left: 10rpx;
}

.van-cell__value {
    color: var(--theme-text-secondary) !important;
}

.van-cell__right-icon {
    color: var(--theme-text-tertiary) !important;
}

/* 表单字段单位样式 */
.field-unit {
    color: var(--theme-text-secondary);
    font-size: var(--theme-font-size-md);
    padding: 0 var(--theme-spacing-sm);
    display: flex;
    align-items: center;
    min-width: fit-content;
    white-space: nowrap;
}

/* van-toast 组件样式优化 */
.van-toast {
    min-width: 200rpx !important;
    max-width: 400rpx !important;
    white-space: nowrap !important;
}

.van-toast__text {
    white-space: nowrap !important;
    text-overflow: ellipsis !important;
    overflow: hidden !important;
}

/* 底部提交按钮区域 */
.form-actions {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    background-color: var(--theme-bg-white);
    padding: var(--theme-spacing-xl) var(--theme-spacing-lg);
    border-top: 2rpx solid var(--theme-border-light);
    z-index: 1;
}

/* Vant Button 样式优化 - 只保留提交按钮 */
.submit-button {
    width: 100% !important;
    background: var(--theme-color-primary) !important;
    color: var(--theme-text-white) !important;
    border: none !important;
    border-radius: var(--theme-radius-sm) !important;
    padding: var(--theme-spacing-lg) !important;
    font-size: var(--theme-font-size-md) !important;
    font-weight: var(--theme-font-weight-medium) !important;
    box-shadow: 0 2rpx 8rpx rgba(218, 165, 32, 0.3) !important;
    transition: all var(--theme-duration-base) var(--theme-ease-out) !important;
}

.submit-button::after {
    border: none !important;
}

.submit-button:active {
    background: var(--theme-color-primary-hover) !important;
    transform: translateY(1rpx) !important;
    box-shadow: 0 1rpx 4rpx rgba(218, 165, 32, 0.4) !important;
}

/* Vant Uploader 样式优化 */
.van-uploader {
    padding: var(--theme-spacing-md) 0;
}

.van-uploader__upload {
    width: 180rpx !important;
    height: 180rpx !important;
    border-radius: var(--theme-radius-md) !important;
    border: 2rpx dashed var(--theme-border-medium) !important;
    background-color: var(--theme-bg-white) !important;
}

.van-uploader__preview {
    width: 180rpx !important;
    height: 180rpx !important;
    border-radius: var(--theme-radius-md) !important;
    margin-right: var(--theme-spacing-lg) !important;
    margin-bottom: var(--theme-spacing-lg) !important;
}

.van-uploader__preview-image {
    border-radius: var(--theme-radius-md) !important;
}

.van-uploader__preview-delete {
    background-color: var(--theme-text-error) !important;
    border-radius: var(--theme-radius-round) !important;
}

.van-picker {
    background-color: var(--theme-bg-white) !important;
}

.van-picker__toolbar {
    border-bottom: 2rpx solid var(--theme-border-light) !important;
}

.van-picker__confirm {
    color: var(--theme-color-primary) !important;
}

.van-picker__cancel {
    color: var(--theme-text-tertiary) !important;
}

/* 响应式适配 */
@media screen and (max-width: 320px) {
    .van-cell-group {
        margin: var(--theme-spacing-md);
    }

    .van-uploader__upload,
    .van-uploader__preview {
        width: 140rpx !important;
        height: 140rpx !important;
    }
}

/* 深色模式适配 */
@media (prefers-color-scheme: dark) {
    .van-cell-group,
    .van-field,
    .van-cell,
    .van-uploader__upload {
        background-color: var(--theme-bg-card) !important;
        border-color: var(--theme-border-medium) !important;
    }

    .van-field__label,
    .van-field__control,
    .van-cell__title {
        color: var(--theme-text-primary) !important;
    }

    .van-cell__value {
        color: var(--theme-text-secondary) !important;
    }
}
